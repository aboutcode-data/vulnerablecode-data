vulnerability_id: VCID-3u6c-jg7h-aaae
aliases:
  - GHSA-r9rv-9mh8-pxf4
summary: "Nervos CKB BlockTimeTooNew should not be considered as invalid block\n### Impact\n\
  \nCurrently, when a node receives a block in future according to its local wall clock, it\
  \ will mark the block as invalid and ban the peer. \n\nIf the header's timestamp is more than\
  \ 15 seconds ahead of our current time. In that case, the header may become valid in the future,\
  \ and we don't want to disconnect a peer merely for serving us one too-far-ahead block header,\
  \ to prevent an attacker from splitting the network by mining a block right at the  15 seconds\
  \ boundary.\n\n### Patches\n\nUpgrade to v0.33.1 or above.\n\n### Workarounds\nDon't ban peer\
  \ serving too-far-ahead block header."
severities:
  - score: MODERATE
    scoring_system: cvssv3.1_qr
    scoring_elements:
    published_at: None
    url: https://github.com/advisories/GHSA-r9rv-9mh8-pxf4
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://github.com/nervosnetwork/ckb/commit/760d447c8b600df0539debe80b1625836fc72819
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://github.com/nervosnetwork/ckb/security/advisories/GHSA-r9rv-9mh8-pxf4
weaknesses: []
references:
  - url: https://github.com/nervosnetwork/ckb/commit/760d447c8b600df0539debe80b1625836fc72819
    reference_type:
    reference_id:
  - url: https://github.com/nervosnetwork/ckb/security/advisories/GHSA-r9rv-9mh8-pxf4
    reference_type:
    reference_id:
  - url: https://github.com/advisories/GHSA-r9rv-9mh8-pxf4
    reference_type:
    reference_id: GHSA-r9rv-9mh8-pxf4
