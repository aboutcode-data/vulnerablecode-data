vulnerability_id: VCID-81rr-fzjf-aaaa
aliases:
  - CVE-2024-38592
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/mediatek: Init `ddp_comp` with devm_kcalloc()

  In the case where `conn_routes` is true we allocate an extra slot in
  the `ddp_comp` array but mtk_drm_crtc_create() never seemed to
  initialize it in the test case I ran. For me, this caused a later
  crash when we looped through the array in mtk_drm_crtc_mode_valid().
  This showed up for me when I booted with `slub_debug=FZPUA` which
  poisons the memory initially. Without `slub_debug` I couldn't
  reproduce, presumably because the later code handles the value being
  NULL and in most cases (not guaranteed in all cases) the memory the
  allocator returned started out as 0.

  It really doesn't hurt to initialize the array with devm_kcalloc()
  since the array is small and the overhead of initting a handful of
  elements to 0 is small. In general initting memory to zero is a safer
  practice and usually it's suggested to only use the non-initting alloc
  functions if you really need to.

  Let's switch the function to use an allocation function that zeros the
  memory. For me, this avoids the crash.
severities:
  - score: '4.4'
    scoring_system: cvssv3
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2024-38592.json
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.16666'
    published_at: '2024-11-01 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.16947'
    published_at: '2024-11-18 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17041'
    published_at: '2024-11-20 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17069'
    published_at: '2024-11-21 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17147'
    published_at: '2024-11-23 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17142'
    published_at: '2024-11-24 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17164'
    published_at: '2024-11-26 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17226'
    published_at: '2024-11-28 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17329'
    published_at: '2024-12-03 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17645'
    published_at: '2024-12-11 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17732'
    published_at: '2024-12-13 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17830'
    published_at: '2024-12-15 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17350'
    published_at: '2024-12-17 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17315'
    published_at: '2024-12-19 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17624'
    published_at: '2025-01-16 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17338'
    published_at: '2024-12-27 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26029'
    published_at: '2025-04-28 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.25946'
    published_at: '2025-04-15 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.2601'
    published_at: '2025-04-16 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26052'
    published_at: '2025-04-17 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26095'
    published_at: '2025-04-18 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26093'
    published_at: '2025-04-19 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26057'
    published_at: '2025-04-20 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26038'
    published_at: '2025-04-21 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26025'
    published_at: '2025-04-22 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26037'
    published_at: '2025-04-23 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26044'
    published_at: '2025-04-24 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26067'
    published_at: '2025-04-25 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26051'
    published_at: '2025-04-26 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00085'
    scoring_system: epss
    scoring_elements: '0.26035'
    published_at: '2025-04-27 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26831'
    published_at: '2025-04-11 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26795'
    published_at: '2025-04-13 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26773'
    published_at: '2025-04-14 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26829'
    published_at: '2025-04-10 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26801'
    published_at: '2025-04-12 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26639'
    published_at: '2025-03-28 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26592'
    published_at: '2025-03-30 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26746'
    published_at: '2025-04-02 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26761'
    published_at: '2025-04-03 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26772'
    published_at: '2025-04-04 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26817'
    published_at: '2025-04-05 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26777'
    published_at: '2025-04-06 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.2675'
    published_at: '2025-04-07 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26754'
    published_at: '2025-04-08 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00112'
    scoring_system: epss
    scoring_elements: '0.26792'
    published_at: '2025-04-09 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '0.00472'
    scoring_system: epss
    scoring_elements: '0.47598'
    published_at: '2025-03-29 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
weaknesses:
  - CWE-476
references:
  - url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2024-38592.json
    reference_type:
    reference_id:
  - url: https://api.first.org/data/v1/epss?cve=CVE-2024-38592
    reference_type:
    reference_id:
  - url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/01a2c5123e27b3c4685bf2fc4c2e879f6e0c7b33
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/9fe2cc3fa44f7ad7ba5f29c1a68b2b924c17b9b1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/cf69d0af7db917b82aceaa44b7b1b9376609da22
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2293385
    reference_type:
    reference_id: 2293385
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-38592
    reference_type:
    reference_id: CVE-2024-38592
  - url: https://usn.ubuntu.com/6949-1/
    reference_type:
    reference_id: USN-6949-1
  - url: https://usn.ubuntu.com/6949-2/
    reference_type:
    reference_id: USN-6949-2
  - url: https://usn.ubuntu.com/6952-1/
    reference_type:
    reference_id: USN-6952-1
  - url: https://usn.ubuntu.com/6952-2/
    reference_type:
    reference_id: USN-6952-2
  - url: https://usn.ubuntu.com/6955-1/
    reference_type:
    reference_id: USN-6955-1
