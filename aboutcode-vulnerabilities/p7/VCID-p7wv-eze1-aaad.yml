vulnerability_id: VCID-p7wv-eze1-aaad
aliases:
  - CVE-2023-52743
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ice: Do not use WQ_MEM_RECLAIM flag for workqueue

  When both ice and the irdma driver are loaded, a warning in
  check_flush_dependency is being triggered. This is due to ice driver
  workqueue being allocated with the WQ_MEM_RECLAIM flag and the irdma one
  is not.

  According to kernel documentation, this flag should be set if the
  workqueue will be involved in the kernel's memory reclamation flow.
  Since it is not, there is no need for the ice driver's WQ to have this
  flag set so remove it.

  Example trace:

  [  +0.000004] workqueue: WQ_MEM_RECLAIM ice:ice_service_task [ice] is flushing !WQ_MEM_RECLAIM infiniband:0x0
  [  +0.000139] WARNING: CPU: 0 PID: 728 at kernel/workqueue.c:2632 check_flush_dependency+0x178/0x1a0
  [  +0.000011] Modules linked in: bonding tls xt_CHECKSUM xt_MASQUERADE xt_conntrack ipt_REJECT nf_reject_ipv4 nft_compat nft_cha
  in_nat nf_nat nf_conntrack nf_defrag_ipv6 nf_defrag_ipv4 nf_tables nfnetlink bridge stp llc rfkill vfat fat intel_rapl_msr intel
  _rapl_common isst_if_common skx_edac nfit libnvdimm x86_pkg_temp_thermal intel_powerclamp coretemp kvm_intel kvm irqbypass crct1
  0dif_pclmul crc32_pclmul ghash_clmulni_intel rapl intel_cstate rpcrdma sunrpc rdma_ucm ib_srpt ib_isert iscsi_target_mod target_
  core_mod ib_iser libiscsi scsi_transport_iscsi rdma_cm ib_cm iw_cm iTCO_wdt iTCO_vendor_support ipmi_ssif irdma mei_me ib_uverbs
  ib_core intel_uncore joydev pcspkr i2c_i801 acpi_ipmi mei lpc_ich i2c_smbus intel_pch_thermal ioatdma ipmi_si acpi_power_meter
  acpi_pad xfs libcrc32c sd_mod t10_pi crc64_rocksoft crc64 sg ahci ixgbe libahci ice i40e igb crc32c_intel mdio i2c_algo_bit liba
  ta dca wmi dm_mirror dm_region_hash dm_log dm_mod ipmi_devintf ipmi_msghandler fuse
  [  +0.000161]  [last unloaded: bonding]
  [  +0.000006] CPU: 0 PID: 728 Comm: kworker/0:2 Tainted: G S                 6.2.0-rc2_next-queue-13jan-00458-gc20aabd57164 #1
  [  +0.000006] Hardware name: Intel Corporation S2600WFT/S2600WFT, BIOS SE5C620.86B.02.01.0010.010620200716 01/06/2020
  [  +0.000003] Workqueue: ice ice_service_task [ice]
  [  +0.000127] RIP: 0010:check_flush_dependency+0x178/0x1a0
  [  +0.000005] Code: 89 8e 02 01 e8 49 3d 40 00 49 8b 55 18 48 8d 8d d0 00 00 00 48 8d b3 d0 00 00 00 4d 89 e0 48 c7 c7 e0 3b 08
  9f e8 bb d3 07 01 <0f> 0b e9 be fe ff ff 80 3d 24 89 8e 02 00 0f 85 6b ff ff ff e9 06
  [  +0.000004] RSP: 0018:ffff88810a39f990 EFLAGS: 00010282
  [  +0.000005] RAX: 0000000000000000 RBX: ffff888141bc2400 RCX: 0000000000000000
  [  +0.000004] RDX: 0000000000000001 RSI: dffffc0000000000 RDI: ffffffffa1213a80
  [  +0.000003] RBP: ffff888194bf3400 R08: ffffed117b306112 R09: ffffed117b306112
  [  +0.000003] R10: ffff888bd983088b R11: ffffed117b306111 R12: 0000000000000000
  [  +0.000003] R13: ffff888111f84d00 R14: ffff88810a3943ac R15: ffff888194bf3400
  [  +0.000004] FS:  0000000000000000(0000) GS:ffff888bd9800000(0000) knlGS:0000000000000000
  [  +0.000003] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
  [  +0.000003] CR2: 000056035b208b60 CR3: 000000017795e005 CR4: 00000000007706f0
  [  +0.000003] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
  [  +0.000003] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
  [  +0.000002] PKRU: 55555554
  [  +0.000003] Call Trace:
  [  +0.000002]  <TASK>
  [  +0.000003]  __flush_workqueue+0x203/0x840
  [  +0.000006]  ? mutex_unlock+0x84/0xd0
  [  +0.000008]  ? __pfx_mutex_unlock+0x10/0x10
  [  +0.000004]  ? __pfx___flush_workqueue+0x10/0x10
  [  +0.000006]  ? mutex_lock+0xa3/0xf0
  [  +0.000005]  ib_cache_cleanup_one+0x39/0x190 [ib_core]
  [  +0.000174]  __ib_unregister_device+0x84/0xf0 [ib_core]
  [  +0.000094]  ib_unregister_device+0x25/0x30 [ib_core]
  [  +0.000093]  irdma_ib_unregister_device+0x97/0xc0 [irdma]
  [  +0.000064]  ? __pfx_irdma_ib_unregister_device+0x10/0x10 [irdma]
  [  +0.000059]  ? up_write+0x5c/0x90
  [  +0.000005]  irdma_remove+0x36/0x90 [irdma]
  [  +0.000062]  auxiliary_bus_remove+0x32/0x50
  [  +0.000007]  device_r
  ---truncated---
severities:
  - score: '4.4'
    scoring_system: cvssv3
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2023-52743.json
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.16666'
    published_at: '2024-11-01 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.16947'
    published_at: '2024-11-18 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17041'
    published_at: '2024-11-20 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17069'
    published_at: '2024-11-21 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17147'
    published_at: '2024-11-23 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17142'
    published_at: '2024-11-24 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17164'
    published_at: '2024-11-26 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17226'
    published_at: '2024-11-28 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17329'
    published_at: '2024-12-03 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17645'
    published_at: '2024-12-11 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17732'
    published_at: '2024-12-13 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17830'
    published_at: '2024-12-15 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17350'
    published_at: '2024-12-17 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17315'
    published_at: '2024-12-19 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17624'
    published_at: '2025-01-16 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17338'
    published_at: '2024-12-27 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.2944'
    published_at: '2025-04-28 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29407'
    published_at: '2025-04-15 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.2947'
    published_at: '2025-04-26 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29537'
    published_at: '2025-04-17 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29584'
    published_at: '2025-04-19 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29521'
    published_at: '2025-04-20 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29501'
    published_at: '2025-04-21 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29465'
    published_at: '2025-04-22 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29464'
    published_at: '2025-04-23 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29471'
    published_at: '2025-04-24 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00103'
    scoring_system: epss
    scoring_elements: '0.29489'
    published_at: '2025-04-25 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31123'
    published_at: '2025-04-14 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31188'
    published_at: '2025-04-10 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31192'
    published_at: '2025-04-11 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31165'
    published_at: '2025-04-12 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31149'
    published_at: '2025-04-13 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31121'
    published_at: '2025-04-07 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31161'
    published_at: '2025-04-09 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31039'
    published_at: '2025-03-28 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31001'
    published_at: '2025-03-30 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31146'
    published_at: '2025-04-02 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31162'
    published_at: '2025-04-03 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31152'
    published_at: '2025-04-04 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31182'
    published_at: '2025-04-05 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00142'
    scoring_system: epss
    scoring_elements: '0.31142'
    published_at: '2025-04-06 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: '0.00599'
    scoring_system: epss
    scoring_elements: '0.52924'
    published_at: '2025-03-29 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
  - score: 4
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L
    published_at: None
    url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
weaknesses:
  - CWE-99
references:
  - url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2023-52743.json
    reference_type:
    reference_id:
  - url: https://api.first.org/data/v1/epss?cve=CVE-2023-52743
    reference_type:
    reference_id:
  - url: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-52743
    reference_type:
    reference_id:
  - url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/1ad4112c9fcf0bc08222b2b1614fba52ffd12255
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/4d159f7884f78b1aacb99b4fc37d1e3cb1194e39
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/87a5e3fc8416106e290c448fc8a6dd50ab24c634
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ca834a017851c50464c25a85f3cb2daefff7bede
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/df59e05401450973c8c7e96fd74b49e24442dc1f
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2282788
    reference_type:
    reference_id: 2282788
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-52743
    reference_type:
    reference_id: CVE-2023-52743
