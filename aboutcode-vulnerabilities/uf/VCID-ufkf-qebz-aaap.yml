vulnerability_id: VCID-ufkf-qebz-aaap
aliases:
  - GHSA-wfg4-322g-9vqv
summary: |
  memoffset allows reading uninitialized memory
  memoffset allows attempt of reading data from address `0` with arbitrary type. This behavior is an undefined behavior because address `0` to `std::mem::size_of<T>` may not have valid bit-pattern with `T`. Old implementation dereferences uninitialized memory obtained from `std::mem::align_of`. Older implementation prior to it allows using uninitialized data obtained from `std::mem::uninitialized` with arbitrary type then compute offset by taking the address of field-projection. This may also result in an undefined behavior for "father" that includes (directly or transitively) type that [does not allow to be uninitialized](https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html).

  This flaw was corrected by using `std::ptr::addr_of` in <https://github.com/Gilnaa/memoffset/pull/50>.
severities:
  - score: MODERATE
    scoring_system: cvssv3.1_qr
    scoring_elements:
    published_at: None
    url: https://github.com/advisories/GHSA-wfg4-322g-9vqv
  - score: '7.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N
    published_at: None
    url: https://github.com/Gilnaa/memoffset
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://github.com/Gilnaa/memoffset
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://github.com/Gilnaa/memoffset/issues/24
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://github.com/Gilnaa/memoffset/pull/50
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url: https://rustsec.org/advisories/RUSTSEC-2023-0045.html
weaknesses: []
references:
  - url: https://github.com/Gilnaa/memoffset
    reference_type:
    reference_id:
  - url: https://github.com/Gilnaa/memoffset/issues/24
    reference_type:
    reference_id:
  - url: https://github.com/Gilnaa/memoffset/pull/50
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2023-0045.html
    reference_type:
    reference_id:
  - url: https://github.com/advisories/GHSA-wfg4-322g-9vqv
    reference_type:
    reference_id: GHSA-wfg4-322g-9vqv
