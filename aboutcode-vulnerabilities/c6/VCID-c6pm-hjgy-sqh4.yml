vulnerability_id: VCID-c6pm-hjgy-sqh4
aliases:
  - CVE-2024-46896
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/amdgpu: don't access invalid sched

  Since 2320c9e6a768 ("drm/sched: memset() 'job' in drm_sched_job_init()")
  accessing job->base.sched can produce unexpected results as the initialisation
  of (*job)->base.sched done in amdgpu_job_alloc is overwritten by the
  memset.

  This commit fixes an issue when a CS would fail validation and would
  be rejected after job->num_ibs is incremented. In this case,
  amdgpu_ib_free(ring->adev, ...) will be called, which would crash the
  machine because the ring value is bogus.

  To fix this, pass a NULL pointer to amdgpu_ib_free(): we can do this
  because the device is actually not used in this function.

  The next commit will remove the ring argument completely.

  (cherry picked from commit 2ae520cb12831d264ceb97c61f72c59d33c0dbd7)
severities:
  - score: '5.5'
    scoring_system: cvssv3
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2024-46896.json
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.06957'
    published_at: '2025-04-28 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07019'
    published_at: '2025-04-26 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07011'
    published_at: '2025-04-27 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05408'
    published_at: '2025-04-12 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.04268'
    published_at: '2025-03-29 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05378'
    published_at: '2025-03-30 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05403'
    published_at: '2025-04-02 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05402'
    published_at: '2025-04-03 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05412'
    published_at: '2025-04-04 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05432'
    published_at: '2025-04-05 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05416'
    published_at: '2025-04-06 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05424'
    published_at: '2025-04-07 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05419'
    published_at: '2025-04-08 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05423'
    published_at: '2025-04-09 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.0543'
    published_at: '2025-04-10 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05418'
    published_at: '2025-04-11 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05397'
    published_at: '2025-04-13 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.05359'
    published_at: '2025-04-14 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.06989'
    published_at: '2025-04-15 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07018'
    published_at: '2025-04-16 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07112'
    published_at: '2025-04-17 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07123'
    published_at: '2025-04-18 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07111'
    published_at: '2025-04-19 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07091'
    published_at: '2025-04-20 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07069'
    published_at: '2025-04-21 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.0703'
    published_at: '2025-04-22 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07017'
    published_at: '2025-04-23 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07022'
    published_at: '2025-04-24 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.0003'
    scoring_system: epss
    scoring_elements: '0.07012'
    published_at: '2025-04-25 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '0.00045'
    scoring_system: epss
    scoring_elements: '0.17624'
    published_at: '2025-01-16 00:00:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
weaknesses:
  - CWE-119
references:
  - url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2024-46896.json
    reference_type:
    reference_id:
  - url: https://api.first.org/data/v1/epss?cve=CVE-2024-46896
    reference_type:
    reference_id:
  - url: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-46896
    reference_type:
    reference_id:
  - url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/65501a4fd84ecdc0af863dbb37759242aab9f2dd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/67291d601f2b032062b1b2f60ffef1b63e10094c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a93b1020eb9386d7da11608477121b10079c076a
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/da6b2c626ae73c303378ce9eaf6e3eaf16c9925a
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2337353
    reference_type:
    reference_id: 2337353
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-46896
    reference_type:
    reference_id: CVE-2024-46896
