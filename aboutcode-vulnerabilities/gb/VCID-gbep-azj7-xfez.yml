vulnerability_id: VCID-gbep-azj7-xfez
aliases:
  - CVE-2023-54302
summary: 'In the Linux kernel, the following vulnerability has been resolved:  RDMA/irdma: Fix
  data race on CQP completion stats  CQP completion statistics is read lockesly in irdma_wait_event
  and irdma_check_cqp_progress while it can be updated in the completion thread irdma_sc_ccq_get_cqe_info
  on another CPU as KCSAN reports.  Make completion statistics an atomic variable to reflect
  coherent updates to it. This will also avoid load/store tearing logic bug potentially possible
  by compiler optimizations.  [77346.170861] BUG: KCSAN: data-race in irdma_handle_cqp_op [irdma]
  / irdma_sc_ccq_get_cqe_info [irdma]  [77346.171383] write to 0xffff8a3250b108e0 of 8 bytes
  by task 9544 on cpu 4: [77346.171483]  irdma_sc_ccq_get_cqe_info+0x27a/0x370 [irdma] [77346.171658]  irdma_cqp_ce_handler+0x164/0x270
  [irdma] [77346.171835]  cqp_compl_worker+0x1b/0x20 [irdma] [77346.172009]  process_one_work+0x4d1/0xa40
  [77346.172024]  worker_thread+0x319/0x700 [77346.172037]  kthread+0x180/0x1b0 [77346.172054]  ret_from_fork+0x22/0x30  [77346.172136]
  read to 0xffff8a3250b108e0 of 8 bytes by task 9838 on cpu 2: [77346.172234]  irdma_handle_cqp_op+0xf4/0x4b0
  [irdma] [77346.172413]  irdma_cqp_aeq_cmd+0x75/0xa0 [irdma] [77346.172592]  irdma_create_aeq+0x390/0x45a
  [irdma] [77346.172769]  irdma_rt_init_hw.cold+0x212/0x85d [irdma] [77346.172944]  irdma_probe+0x54f/0x620
  [irdma] [77346.173122]  auxiliary_bus_probe+0x66/0xa0 [77346.173137]  really_probe+0x140/0x540
  [77346.173154]  __driver_probe_device+0xc7/0x220 [77346.173173]  driver_probe_device+0x5f/0x140
  [77346.173190]  __driver_attach+0xf0/0x2c0 [77346.173208]  bus_for_each_dev+0xa8/0xf0 [77346.173225]  driver_attach+0x29/0x30
  [77346.173240]  bus_add_driver+0x29c/0x2f0 [77346.173255]  driver_register+0x10f/0x1a0 [77346.173272]  __auxiliary_driver_register+0xbc/0x140
  [77346.173287]  irdma_init_module+0x55/0x1000 [irdma] [77346.173460]  do_one_initcall+0x7d/0x410
  [77346.173475]  do_init_module+0x81/0x2c0 [77346.173491]  load_module+0x1232/0x12c0 [77346.173506]  __do_sys_finit_module+0x101/0x180
  [77346.173522]  __x64_sys_finit_module+0x3c/0x50 [77346.173538]  do_syscall_64+0x39/0x90 [77346.173553]  entry_SYSCALL_64_after_hwframe+0x63/0xcd  [77346.173634]
  value changed: 0x0000000000000094 -> 0x0000000000000095'
severities:
  - score: '5.9'
    scoring_system: cvssv3
    scoring_elements: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2023-54302.json
  - score: '0.00023'
    scoring_system: epss
    scoring_elements: '0.05589'
    published_at: '2026-01-08 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-54302
  - score: '0.00023'
    scoring_system: epss
    scoring_elements: '0.05572'
    published_at: '2026-01-11 12:55:00+00:00'
    url: https://api.first.org/data/v1/epss?cve=CVE-2023-54302
  - score: '6.1'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:H
    published_at: None
    url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
weaknesses:
  - CWE-667
references:
  - url: https://access.redhat.com/hydra/rest/securitydata/cve/CVE-2023-54302.json
    reference_type:
    reference_id:
  - url: https://api.first.org/data/v1/epss?cve=CVE-2023-54302
    reference_type:
    reference_id:
  - url: https://ftp.suse.com/pub/projects/security/yaml/suse-cvss-scores.yaml
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2426187
    reference_type:
    reference_id: 2426187
  - url: https://access.redhat.com/errata/RHSA-2024:2394
    reference_type:
    reference_id: RHSA-2024:2394
